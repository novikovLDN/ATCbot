"""
Common handlers module: guards, decorators, utils, keyboards, FSM states.
Shared across all handler domains. Zero domain logic.
"""
from app.handlers.common.guards import ensure_db_ready_message, ensure_db_ready_callback
from app.handlers.common.utils import (
    safe_resolve_username,
    safe_resolve_username_from_db,
    safe_edit_text,
    safe_edit_reply_markup,
    get_promo_session,
    create_promo_session,
    clear_promo_session,
    format_text_with_incident,
    detect_platform,
    format_promo_stats_text,
    get_reissue_lock,
    get_reissue_notification_text,
)
from app.handlers.common.keyboards import (
    get_language_keyboard,
    get_main_menu_keyboard,
    get_back_keyboard,
    get_profile_keyboard,
    get_profile_keyboard_with_copy,
    get_profile_keyboard_old,
    get_vpn_key_keyboard,
    get_tariff_keyboard,
    get_payment_method_keyboard,
    get_sbp_payment_keyboard,
    get_pending_payment_keyboard,
    get_about_keyboard,
    get_service_status_keyboard,
    get_support_keyboard,
    get_instruction_keyboard,
    get_admin_dashboard_keyboard,
    get_admin_back_keyboard,
    get_reissue_notification_keyboard,
    get_broadcast_test_type_keyboard,
    get_broadcast_type_keyboard,
    get_broadcast_segment_keyboard,
    get_broadcast_confirm_keyboard,
    get_ab_test_list_keyboard,
    get_admin_export_keyboard,
    get_admin_user_keyboard,
    get_admin_user_keyboard_processing,
    get_admin_payment_keyboard,
    _get_promo_error_keyboard,
)
__all__ = [
    "ensure_db_ready_message",
    "ensure_db_ready_callback",
    "safe_resolve_username",
    "safe_resolve_username_from_db",
    "safe_edit_text",
    "safe_edit_reply_markup",
    "get_promo_session",
    "create_promo_session",
    "clear_promo_session",
    "format_text_with_incident",
    "detect_platform",
    "format_promo_stats_text",
    "get_reissue_lock",
    "get_reissue_notification_text",
    "get_language_keyboard",
    "get_main_menu_keyboard",
    "get_back_keyboard",
    "get_profile_keyboard",
    "get_profile_keyboard_with_copy",
    "get_profile_keyboard_old",
    "get_vpn_key_keyboard",
    "get_tariff_keyboard",
    "get_payment_method_keyboard",
    "get_sbp_payment_keyboard",
    "get_pending_payment_keyboard",
    "get_about_keyboard",
    "get_service_status_keyboard",
    "get_support_keyboard",
    "get_instruction_keyboard",
    "get_admin_dashboard_keyboard",
    "get_admin_back_keyboard",
    "get_reissue_notification_keyboard",
    "get_broadcast_test_type_keyboard",
    "get_broadcast_type_keyboard",
    "get_broadcast_segment_keyboard",
    "get_broadcast_confirm_keyboard",
    "get_ab_test_list_keyboard",
    "get_admin_export_keyboard",
    "get_admin_user_keyboard",
    "get_admin_user_keyboard_processing",
    "get_admin_payment_keyboard",
    "_get_promo_error_keyboard",
]
